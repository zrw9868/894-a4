{"ast":null,"code":"var _jsxFileName = \"/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/LineChart.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\n\nclass LineChart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      svg: 0\n    };\n  }\n\n  componentDidMount() {\n    this.drawChart(this.props.data, this.props.data_to_show);\n  }\n\n  componentDidUpdate() {\n    var chart = this.state.svg.append(\"g\");\n    chart.append(\"path\").datum(data_rendering).attr(\"stroke-width\", 2).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"none\").attr(\"d\", line);\n    chart.selectAll('circle').data(data_rendering).enter().append(\"circle\").attr(\"r\", 4.5).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"steelblue\").attr(\"cx\", function (d) {\n      return xScale(d.date);\n    }).attr(\"cy\", function (d) {\n      return yScale(d.positive);\n    });\n  }\n\n  drawChart(data) {\n    const width = 960;\n    const height = 500;\n    const margin = {\n      top: 50,\n      right: 50,\n      bottom: 100,\n      left: 50\n    }; // ------- scale ---------//\n\n    const xScale = d3.scaleTime().domain(d3.extent(data, d => d.date)).range([margin.left, width - margin.right]);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.positive)]).nice().range([height - margin.bottom, margin.top]); // --------- axis --------//\n\n    const xAxis = d3.axisBottom().ticks(d3.timeDay.every(1)).tickFormat(d3.timeFormat('%m/%d')).scale(xScale);\n    const yAxis = d3.axisLeft().ticks(10).scale(yScale); // ------- draw --------//\n\n    const line = d3.line().x(d => xScale(d.date)).y(d => yScale(d.positive));\n    const svg = d3.select(this.refs.chart).append(\"svg\").attr('width', width).attr('height', height);\n    svg.append(\"g\").attr(\"transform\", `translate(0,${height - margin.bottom})`).call(xAxis);\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left},0)`).call(yAxis);\n    this.state.svg = svg; // ------- chart ------//\n    // function update(new_data){\n    //   var path = chart.selectAll('path').data(new_data)\n    //\n    //   var circles = chart.selectAll('circle').data(new_data)\n    //\n    //   path.enter()\n    //       .attr(\"stroke-width\", 2)\n    //       .attr(\"stroke\", \"steelblue\")\n    //       .attr(\"fill\", \"none\")\n    //       .attr(\"d\", line)\n    //\n    //   path.exit.remove()\n    //\n    //   circles.enter()\n    //         .append(\"circle\")\n    //          .attr(\"r\", 4.5)\n    //          .attr(\"stroke\", \"steelblue\")\n    //          .attr(\"fill\", \"steelblue\")\n    //          .attr(\"cx\", function(d) { return xScale(d.date); })\n    //          .attr(\"cy\", function(d) { return yScale(d.positive); })\n    //\n    //   circles.exit.remove()\n    // }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 20\n      }\n    });\n  }\n\n}\n\nexport default LineChart;","map":{"version":3,"sources":["/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/LineChart.js"],"names":["React","Component","d3","LineChart","constructor","props","state","svg","componentDidMount","drawChart","data","data_to_show","componentDidUpdate","chart","append","datum","data_rendering","attr","line","selectAll","enter","d","xScale","date","yScale","positive","width","height","margin","top","right","bottom","left","scaleTime","domain","extent","range","scaleLinear","max","nice","xAxis","axisBottom","ticks","timeDay","every","tickFormat","timeFormat","scale","yAxis","axisLeft","x","y","select","refs","call","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport * as d3 from \"d3\"\n\n\nclass LineChart extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      svg : 0\n    }\n\n  }\n\n\n  componentDidMount() {\n    this.drawChart(this.props.data, this.props.data_to_show)\n  }\n\n  componentDidUpdate(){\n    var chart = this.state.svg.append(\"g\")\n    chart.append(\"path\")\n         .datum(data_rendering)\n         .attr(\"stroke-width\", 2)\n         .attr(\"stroke\", \"steelblue\")\n         .attr(\"fill\", \"none\")\n         .attr(\"d\", line)\n\n    chart.selectAll('circle')\n      .data(data_rendering)\n      .enter()\n        .append(\"circle\")\n         .attr(\"r\", 4.5)\n         .attr(\"stroke\", \"steelblue\")\n         .attr(\"fill\", \"steelblue\")\n         .attr(\"cx\", function(d) { return xScale(d.date); })\n         .attr(\"cy\", function(d) { return yScale(d.positive); })\n  }\n\n  drawChart(data) {\n    const width = 960;\n    const height = 500;\n    const margin = {top: 50, right: 50, bottom: 100, left:50};\n\n    // ------- scale ---------//\n    const xScale = d3.scaleTime()\n      .domain(d3.extent(data, d => d.date))\n      .range([margin.left, width - margin.right]);\n\n    const yScale = d3.scaleLinear()\n      .domain ([0, d3.max(data, d => d.positive)]).nice()\n      .range([height - margin.bottom, margin.top])\n\n    // --------- axis --------//\n    const xAxis = d3.axisBottom()\n      .ticks(d3.timeDay.every(1))\n      .tickFormat(d3.timeFormat('%m/%d'))\n      .scale(xScale);\n\n    const yAxis = d3.axisLeft()\n      .ticks(10)\n      .scale(yScale);\n\n    // ------- draw --------//\n    const line = d3.line()\n      .x(d => xScale(d.date))\n      .y(d => yScale(d.positive))\n\n    const svg = d3.select(this.refs.chart)\n      .append(\"svg\")\n      .attr('width', width )\n      .attr('height', height )\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n      .call(xAxis);\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},0)`)\n      .call(yAxis);\n\n    this.state.svg = svg\n\n    // ------- chart ------//\n\n\n\n    // function update(new_data){\n    //   var path = chart.selectAll('path').data(new_data)\n    //\n    //   var circles = chart.selectAll('circle').data(new_data)\n    //\n    //   path.enter()\n    //       .attr(\"stroke-width\", 2)\n    //       .attr(\"stroke\", \"steelblue\")\n    //       .attr(\"fill\", \"none\")\n    //       .attr(\"d\", line)\n    //\n    //   path.exit.remove()\n    //\n    //   circles.enter()\n    //         .append(\"circle\")\n    //          .attr(\"r\", 4.5)\n    //          .attr(\"stroke\", \"steelblue\")\n    //          .attr(\"fill\", \"steelblue\")\n    //          .attr(\"cx\", function(d) { return xScale(d.date); })\n    //          .attr(\"cy\", function(d) { return yScale(d.positive); })\n    //\n    //   circles.exit.remove()\n    // }\n\n  }\n\n  render() {return <div ref=\"chart\"></div>\n\n}\n}\n\n\nexport default LineChart;\n"]},"metadata":{},"sourceType":"module"}