{"ast":null,"code":"var _jsxFileName = \"/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/slider.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\n\nclass Slider extends Component {\n  componentDidMount() {\n    this.drawSlider(this.props.data, this.props.updateToParent);\n  }\n\n  drawSlider(data, updateToParent) {\n    console.log(\"here\");\n    var formatDate = d3.timeFormat(\"%m/%d\");\n    var startDate = data.date[0],\n        endDate = data.date[-1];\n    var margin = {\n      top: 0,\n      right: 50,\n      bottom: 0,\n      left: 50\n    },\n        width = 480 - margin.left - margin.right,\n        height = 300 - margin.top - margin.bottom;\n    var svg = d3.select(this.refs.slider).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height);\n    var x = d3.scaleTime().domain([startDate, endDate]).range([0, width]).clamp(true);\n    var slider = svg.append(\"g\").attr(\"class\", \"slider\").attr(\"transform\", \"translate(\" + margin.left + \",50)\");\n    slider.append(\"line\").attr(\"class\", \"track\").attr(\"x1\", x.range()[0]).attr(\"x2\", x.range()[1]).attr(\"stroke\", \"#000\").attr(\"stroke-opacity\", 0.1).attr(\"stroke-width\", \"10px\").select(function () {\n      return this.parentNode.appendChild(this.cloneNode(true));\n    }).attr(\"class\", \"track-inset\").select(function () {\n      return this.parentNode.appendChild(this.cloneNode(true));\n    }).attr(\"class\", \"track-overlay\").call(d3.drag().on(\"start.interrupt\", function () {\n      slider.interrupt();\n    }).on(\"start drag\", function () {\n      update(x.invert(d3.event.x));\n    }));\n    slider.insert(\"g\", \".track-overlay\").attr(\"class\", \"ticks\").attr(\"transform\", \"translate(0,\" + 18 + \")\").selectAll(\"text\").data(x.ticks(5)).enter().append(\"text\").attr(\"x\", x).attr(\"y\", 10).attr(\"text-anchor\", \"middle\").text(function (d) {\n      return formatDate(d);\n    });\n    var label = slider.append(\"text\").attr(\"class\", \"label\").attr(\"text-anchor\", \"middle\").text(formatDate(startDate)).attr(\"transform\", \"translate(0,\" + -25 + \")\");\n    var handle = slider.insert(\"circle\", \".track-overlay\").attr(\"class\", \"handle\").attr(\"r\", 9);\n\n    function update(h) {\n      handle.attr(\"cx\", x(h));\n      label.attr(\"x\", x(h)).text(formatDate(h));\n      let new_data = data.filter(function (d) {\n        return d.date < h;\n      });\n      updateToParent(new_data);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"slider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 20\n      }\n    });\n  }\n\n}\n\nexport default Slider;","map":{"version":3,"sources":["/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/slider.js"],"names":["React","Component","d3","Slider","componentDidMount","drawSlider","props","data","updateToParent","console","log","formatDate","timeFormat","startDate","date","endDate","margin","top","right","bottom","left","width","height","svg","select","refs","slider","append","attr","x","scaleTime","domain","range","clamp","parentNode","appendChild","cloneNode","call","drag","on","interrupt","update","invert","event","insert","selectAll","ticks","enter","text","d","label","handle","h","new_data","filter","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport * as d3 from \"d3\"\n\n\nclass Slider extends Component {\n\n  componentDidMount() {\n    this.drawSlider(this.props.data, this.props.updateToParent)\n  }\n\n  drawSlider(data, updateToParent) {\n    console.log(\"here\")\n    var formatDate = d3.timeFormat(\"%m/%d\");\n\n    var startDate = data.date[0],\n        endDate = data.date[-1];\n\n    var margin = {top:0, right:50, bottom:0, left:50},\n        width = 480 -margin.left - margin.right,\n        height = 300 - margin.top - margin.bottom;\n\n    var svg = d3.select(this.refs.slider)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height);\n\n    var x = d3.scaleTime()\n        .domain([startDate, endDate])\n        .range([0, width])\n        .clamp(true);\n\n    var slider = svg.append(\"g\")\n        .attr(\"class\", \"slider\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",50)\");\n\n    slider.append(\"line\")\n        .attr(\"class\", \"track\")\n        .attr(\"x1\", x.range()[0])\n        .attr(\"x2\", x.range()[1])\n        .attr(\"stroke\", \"#000\")\n        .attr(\"stroke-opacity\", 0.1)\n        .attr(\"stroke-width\", \"10px\")\n      .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n        .attr(\"class\", \"track-inset\")\n      .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n        .attr(\"class\", \"track-overlay\")\n        .call(d3.drag()\n            .on(\"start.interrupt\", function() { slider.interrupt(); })\n            .on(\"start drag\", function() {\n              update(x.invert(d3.event.x));\n             }));\n\n    slider.insert(\"g\", \".track-overlay\")\n        .attr(\"class\", \"ticks\")\n        .attr(\"transform\", \"translate(0,\" + 18 + \")\")\n      .selectAll(\"text\")\n        .data(x.ticks(5))\n        .enter()\n        .append(\"text\")\n        .attr(\"x\", x)\n        .attr(\"y\", 10)\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) { return formatDate(d); });\n\n    var label = slider.append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(formatDate(startDate))\n        .attr(\"transform\", \"translate(0,\" + (-25) + \")\")\n\n    var handle = slider.insert(\"circle\", \".track-overlay\")\n        .attr(\"class\", \"handle\")\n        .attr(\"r\", 9);\n\n    function update(h) {\n      handle.attr(\"cx\", x(h));\n      label\n        .attr(\"x\", x(h))\n        .text(formatDate(h));\n      let new_data = data.filter(function(d) {return d.date < h;});\n\n      updateToParent(new_data);\n    }\n\n  }\n  render() {return <div ref=\"slider\"></div>}\n\n\n}\n\nexport default Slider;\n"]},"metadata":{},"sourceType":"module"}