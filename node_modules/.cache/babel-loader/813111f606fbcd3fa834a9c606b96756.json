{"ast":null,"code":"var _jsxFileName = \"/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/LineChart.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nconst width = 960;\nconst height = 500;\nconst margin = {\n  top: 50,\n  right: 50,\n  bottom: 100,\n  left: 50\n};\n\nclass LineChart extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.drawChart(this.props.data, this.props.data_to_show);\n  }\n\n  componentDidUpdate() {\n    var line = d3.line().x(d => this.xScale(d.date)).y(d => this.yScale(d.positive));\n    this.chart = this.svg.append(\"g\");\n    this.chart.append(\"path\").datum(this.props.data_to_show).attr(\"stroke-width\", 2).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"none\").attr(\"d\", line);\n    this.chart.selectAll('circle').data(this.props.data_to_show).enter().append(\"circle\").attr(\"r\", 4.5).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"steelblue\").attr(\"cx\", function (d) {\n      return this.xScale(d.date);\n    }).attr(\"cy\", function (d) {\n      return this.yScale(d.positive);\n    });\n  }\n\n  drawChart(data) {\n    // ------- scale ---------//\n    this.xScale = d3.scaleTime().domain(d3.extent(data, d => d.date)).range([margin.left, width - margin.right]);\n    this.yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.positive)]).nice().range([height - margin.bottom, margin.top]); // --------- axis --------//\n\n    const xAxis = d3.axisBottom().ticks(d3.timeDay.every(1)).tickFormat(d3.timeFormat('%m/%d')).scale(xScale);\n    const yAxis = d3.axisLeft().ticks(10).scale(yScale); // ------- draw --------//\n\n    this.svg = d3.select(this.refs.chart).append(\"svg\").attr('width', width).attr('height', height);\n    this.svg.append(\"g\").attr(\"transform\", `translate(0,${height - margin.bottom})`).call(xAxis);\n    this.svg.append(\"g\").attr(\"transform\", `translate(${margin.left},0)`).call(yAxis); // ------- chart ------//\n    // function update(new_data){\n    //   var path = chart.selectAll('path').data(new_data)\n    //\n    //   var circles = chart.selectAll('circle').data(new_data)\n    //\n    //   path.enter()\n    //       .attr(\"stroke-width\", 2)\n    //       .attr(\"stroke\", \"steelblue\")\n    //       .attr(\"fill\", \"none\")\n    //       .attr(\"d\", line)\n    //\n    //   path.exit.remove()\n    //\n    //   circles.enter()\n    //         .append(\"circle\")\n    //          .attr(\"r\", 4.5)\n    //          .attr(\"stroke\", \"steelblue\")\n    //          .attr(\"fill\", \"steelblue\")\n    //          .attr(\"cx\", function(d) { return xScale(d.date); })\n    //          .attr(\"cy\", function(d) { return yScale(d.positive); })\n    //\n    //   circles.exit.remove()\n    // }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 20\n      }\n    });\n  }\n\n}\n\nexport default LineChart;","map":{"version":3,"sources":["/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/LineChart.js"],"names":["React","Component","d3","width","height","margin","top","right","bottom","left","LineChart","constructor","props","componentDidMount","drawChart","data","data_to_show","componentDidUpdate","line","x","d","xScale","date","y","yScale","positive","chart","svg","append","datum","attr","selectAll","enter","scaleTime","domain","extent","range","scaleLinear","max","nice","xAxis","axisBottom","ticks","timeDay","every","tickFormat","timeFormat","scale","yAxis","axisLeft","select","refs","call","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport * as d3 from \"d3\"\n\nconst width = 960;\nconst height = 500;\nconst margin = {top: 50, right: 50, bottom: 100, left:50};\n\nclass LineChart extends Component {\n  constructor (props) {\n    super(props)\n\n  }\n\n\n  componentDidMount() {\n    this.drawChart(this.props.data, this.props.data_to_show)\n  }\n\n  componentDidUpdate(){\n    var line = d3.line()\n      .x(d => this.xScale(d.date))\n      .y(d => this.yScale(d.positive))\n\n    this.chart = this.svg.append(\"g\")\n\n\n    this.chart.append(\"path\")\n         .datum(this.props.data_to_show)\n         .attr(\"stroke-width\", 2)\n         .attr(\"stroke\", \"steelblue\")\n         .attr(\"fill\", \"none\")\n         .attr(\"d\", line)\n\n    this.chart.selectAll('circle')\n      .data(this.props.data_to_show)\n      .enter()\n        .append(\"circle\")\n         .attr(\"r\", 4.5)\n         .attr(\"stroke\", \"steelblue\")\n         .attr(\"fill\", \"steelblue\")\n         .attr(\"cx\", function(d) { return this.xScale(d.date); })\n         .attr(\"cy\", function(d) { return this.yScale(d.positive); })\n  }\n\n  drawChart(data) {\n    // ------- scale ---------//\n    this.xScale = d3.scaleTime()\n      .domain(d3.extent(data, d => d.date))\n      .range([margin.left, width - margin.right]);\n\n    this.yScale = d3.scaleLinear()\n      .domain ([0, d3.max(data, d => d.positive)]).nice()\n      .range([height - margin.bottom, margin.top])\n\n    // --------- axis --------//\n    const xAxis = d3.axisBottom()\n      .ticks(d3.timeDay.every(1))\n      .tickFormat(d3.timeFormat('%m/%d'))\n      .scale(xScale);\n\n    const yAxis = d3.axisLeft()\n      .ticks(10)\n      .scale(yScale);\n\n    // ------- draw --------//\n    this.svg = d3.select(this.refs.chart)\n      .append(\"svg\")\n      .attr('width', width )\n      .attr('height', height )\n\n    this.svg.append(\"g\")\n      .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n      .call(xAxis);\n\n    this.svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},0)`)\n      .call(yAxis);\n\n    // ------- chart ------//\n\n\n    // function update(new_data){\n    //   var path = chart.selectAll('path').data(new_data)\n    //\n    //   var circles = chart.selectAll('circle').data(new_data)\n    //\n    //   path.enter()\n    //       .attr(\"stroke-width\", 2)\n    //       .attr(\"stroke\", \"steelblue\")\n    //       .attr(\"fill\", \"none\")\n    //       .attr(\"d\", line)\n    //\n    //   path.exit.remove()\n    //\n    //   circles.enter()\n    //         .append(\"circle\")\n    //          .attr(\"r\", 4.5)\n    //          .attr(\"stroke\", \"steelblue\")\n    //          .attr(\"fill\", \"steelblue\")\n    //          .attr(\"cx\", function(d) { return xScale(d.date); })\n    //          .attr(\"cy\", function(d) { return yScale(d.positive); })\n    //\n    //   circles.exit.remove()\n    // }\n\n  }\n\n  render() {return <div ref=\"chart\"></div>\n\n}\n}\n\n\nexport default LineChart;\n"]},"metadata":{},"sourceType":"module"}