{"ast":null,"code":"var _jsxFileName = \"/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/LineChart.js\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { sliderBottom } from 'd3-simple-slider';\n\nclass LineChart extends Component {\n  componentDidMount() {\n    this.drawChart(this.props.data);\n  }\n\n  drawChart(data) {\n    const width = 960;\n    const height = 500;\n    const margin = {\n      top: 50,\n      right: 50,\n      bottom: 100,\n      left: 50\n    };\n    const xScale = d3.scaleTime().domain(d3.extent(data, d => d.date)).range([margin.left, width - margin.right]);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.positive)]).nice().range([height - margin.bottom, margin.top]);\n    const xAxis = d3.axisBottom().ticks(d3.timeDay.every(1)).tickFormat(d3.timeFormat('%m/%d')).scale(xScale);\n    const yAxis = d3.axisLeft().ticks(10).scale(yScale);\n    const line = d3.line().x(d => xScale(d.date)).y(d => yScale(d.positive));\n    const svg = d3.select(this.refs.chart).append(\"svg\").attr('width', width).attr('height', height);\n    svg.append(\"g\").attr(\"transform\", `translate(0,${height - margin.bottom})`).call(xAxis);\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left},0)`).call(yAxis);\n    const chart = svg.append(\"g\");\n    chart.append(\"path\").datum(data).attr(\"stroke-width\", 2).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"none\").attr(\"d\", line);\n    chart.selectAll('circle').data(data).enter().append(\"circle\").attr(\"r\", 4.5).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"steelblue\").attr(\"cx\", function (d) {\n      return xScale(d.date);\n    }).attr(\"cy\", function (d) {\n      return yScale(d.positive);\n    });\n    const slider = svg.append(\"g\").attr(\"transform\", `translate(${margin.left}, ${height - 50})`);\n    slider.append(\"line\").attr(\"x1\", xAxis.range([0])).attr(\"x2\", xAxis.range([1])).select(function () {\n      return this.parentNode.appendChild(this.cloneNode(true));\n    }).attr(\"class\", \"track-inset\").select(function () {\n      return this.parentNode.appendChild(this.cloneNode(true));\n    }).attr(\"class\", \"track-overlay\").call(d3.drag().on(\"start.interrupt\", function () {\n      slider.interrupt();\n    }).on(\"start drag\", function () {\n      console.log(d3.event.x);\n    }));\n    const formatDate = d3.timeFormat(\"%m/%d\");\n    slider.insert(\"g\", \".track-overlay\").attr(\"class\", \"ticks\").attr(\"transform\", \"translate(0,\" + 18 + \")\").selectAll(\"text\").data(xScale).enter().append(\"text\").attr(\"x\", xScale).attr(\"y\", 10).attr(\"text-anchor\", \"middle\").text(function (d) {\n      return formatDate(d);\n    });\n    var label = slider.append(\"text\").attr(\"class\", \"label\").attr(\"text-anchor\", \"middle\").text(formatDate(startDate)).attr(\"transform\", \"translate(0,\" + -25 + \")\");\n    var handle = slider.insert(\"circle\", \".track-overlay\").attr(\"class\", \"handle\").attr(\"r\", 9);\n\n    function update(val) {\n      console.log(slide.value());\n      var new_data = data.filter(function (d) {\n        return d.date < val;\n      });\n      var path = chart.selectAll('path').data(new_data);\n      var circles = chart.selectAll('circle').data(new_data);\n      path.enter().attr(\"stroke-width\", 2).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"none\").attr(\"d\", line);\n      path.exit.remove();\n      circles.enter().append(\"circle\").attr(\"r\", 4.5).attr(\"stroke\", \"steelblue\").attr(\"fill\", \"steelblue\").attr(\"cx\", function (d) {\n        return xScale(d.date);\n      }).attr(\"cy\", function (d) {\n        return yScale(d.positive);\n      });\n      circles.exit.remove();\n    }\n\n    sliderg.call(slide);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"chart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 20\n      }\n    });\n  }\n\n}\n\nexport default LineChart;","map":{"version":3,"sources":["/Users/rachel/Desktop/A4-How-does-Coronavirus-spreadirus-spread/my-app/src/LineChart.js"],"names":["React","Component","d3","sliderBottom","LineChart","componentDidMount","drawChart","props","data","width","height","margin","top","right","bottom","left","xScale","scaleTime","domain","extent","d","date","range","yScale","scaleLinear","max","positive","nice","xAxis","axisBottom","ticks","timeDay","every","tickFormat","timeFormat","scale","yAxis","axisLeft","line","x","y","svg","select","refs","chart","append","attr","call","datum","selectAll","enter","slider","parentNode","appendChild","cloneNode","drag","on","interrupt","console","log","event","formatDate","insert","text","label","startDate","handle","update","val","slide","value","new_data","filter","path","circles","exit","remove","sliderg","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport * as d3 from \"d3\"\nimport {sliderBottom} from 'd3-simple-slider'\n\n\nclass LineChart extends Component {\n  componentDidMount() {\n    this.drawChart(this.props.data)\n  }\n\n  drawChart(data) {\n    const width = 960;\n    const height = 500;\n    const margin = {top: 50, right: 50, bottom: 100, left:50};\n\n    const xScale = d3.scaleTime()\n      .domain(d3.extent(data, d => d.date))\n      .range([margin.left, width - margin.right]);\n\n    const yScale = d3.scaleLinear()\n      .domain ([0, d3.max(data, d => d.positive)]).nice()\n      .range([height - margin.bottom, margin.top])\n\n    const xAxis = d3.axisBottom()\n      .ticks(d3.timeDay.every(1))\n      .tickFormat(d3.timeFormat('%m/%d'))\n      .scale(xScale);\n\n    const yAxis = d3.axisLeft()\n      .ticks(10)\n      .scale(yScale);\n\n    const line = d3.line()\n      .x(d => xScale(d.date))\n      .y(d => yScale(d.positive))\n\n    const svg = d3.select(this.refs.chart)\n      .append(\"svg\")\n      .attr('width', width )\n      .attr('height', height )\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n      .call(xAxis);\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},0)`)\n      .call(yAxis);\n\n    const chart = svg.append(\"g\")\n\n    chart.append(\"path\")\n         .datum(data)\n         .attr(\"stroke-width\", 2)\n         .attr(\"stroke\", \"steelblue\")\n         .attr(\"fill\", \"none\")\n         .attr(\"d\", line)\n\n    chart.selectAll('circle')\n      .data(data)\n      .enter()\n        .append(\"circle\")\n         .attr(\"r\", 4.5)\n         .attr(\"stroke\", \"steelblue\")\n         .attr(\"fill\", \"steelblue\")\n         .attr(\"cx\", function(d) { return xScale(d.date); })\n         .attr(\"cy\", function(d) { return yScale(d.positive); })\n\n    const slider = svg.append(\"g\")\n            .attr(\"transform\", `translate(${margin.left}, ${height-50})`)\n\n    slider.append(\"line\")\n      .attr(\"x1\",xAxis.range([0]))\n      .attr(\"x2\", xAxis.range([1]))\n    .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n      .attr(\"class\", \"track-inset\")\n    .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n      .attr(\"class\", \"track-overlay\")\n      .call(d3.drag()\n          .on(\"start.interrupt\", function() { slider.interrupt(); })\n          .on(\"start drag\", function() {console.log(d3.event.x)}));\n\n\n    const formatDate = d3.timeFormat(\"%m/%d\");\n\n    slider.insert(\"g\", \".track-overlay\")\n    .attr(\"class\", \"ticks\")\n    .attr(\"transform\", \"translate(0,\" + 18 + \")\")\n  .selectAll(\"text\")\n    .data(xScale)\n    .enter()\n    .append(\"text\")\n    .attr(\"x\", xScale)\n    .attr(\"y\", 10)\n    .attr(\"text-anchor\", \"middle\")\n    .text(function(d) { return formatDate(d); });\n\n    var label = slider.append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(formatDate(startDate))\n        .attr(\"transform\", \"translate(0,\" + (-25) + \")\")\n\n    var handle = slider.insert(\"circle\", \".track-overlay\")\n        .attr(\"class\", \"handle\")\n        .attr(\"r\", 9);\n\n\n\n    function update(val){\n\n      console.log(slide.value())\n      var new_data = data.filter(function(d) {return d.date < val;})\n\n\n      var path = chart.selectAll('path').data(new_data)\n\n      var circles = chart.selectAll('circle').data(new_data)\n\n      path.enter()\n          .attr(\"stroke-width\", 2)\n          .attr(\"stroke\", \"steelblue\")\n          .attr(\"fill\", \"none\")\n          .attr(\"d\", line)\n\n      path.exit.remove()\n\n      circles.enter()\n            .append(\"circle\")\n             .attr(\"r\", 4.5)\n             .attr(\"stroke\", \"steelblue\")\n             .attr(\"fill\", \"steelblue\")\n             .attr(\"cx\", function(d) { return xScale(d.date); })\n             .attr(\"cy\", function(d) { return yScale(d.positive); })\n\n      circles.exit.remove()\n    }\n\n\n    sliderg.call(slide)\n\n\n  }\n\n  render() {return <div ref=\"chart\"></div>}\n}\n\n\nexport default LineChart;\n"]},"metadata":{},"sourceType":"module"}