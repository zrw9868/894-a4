{"ast":null,"code":"import _classCallCheck from\"/Users/rachel/Desktop/894-a4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rachel/Desktop/894-a4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/rachel/Desktop/894-a4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/rachel/Desktop/894-a4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import*as d3 from\"d3\";var Slider=/*#__PURE__*/function(_Component){_inherits(Slider,_Component);var _super=_createSuper(Slider);function Slider(){_classCallCheck(this,Slider);return _super.apply(this,arguments);}_createClass(Slider,[{key:\"componentDidMount\",value:function componentDidMount(){this.drawSlider(this.props.data,this.props.updateToParent);}},{key:\"drawSlider\",value:function drawSlider(data,updateToParent){console.log(\"here\");var formatDate=d3.timeFormat(\"%m/%d\");// var startDate = data[0].date,\n//     endDate = data[(data.length)-1].date;\nvar startDate=data.date[0],endDate=data.date[data.date.length-1];var margin={top:0,right:50,bottom:0,left:50},width=480-margin.left-margin.right,height=300-margin.top-margin.bottom;var svg=d3.select(this.refs.slider).append(\"svg\").attr(\"width\",width+margin.left+margin.right).attr(\"height\",height);var x=d3.scaleTime().domain([startDate,endDate]).range([0,width]).clamp(true);var slider=svg.append(\"g\").attr(\"class\",\"slider\").attr(\"transform\",\"translate(\"+margin.left+\",50)\");slider.append(\"line\").attr(\"class\",\"track\").attr(\"x1\",x.range()[0]).attr(\"x2\",x.range()[1]).attr(\"stroke\",\"#000\").attr(\"stroke-opacity\",0.1).attr(\"stroke-width\",\"10px\").select(function(){return this.parentNode.appendChild(this.cloneNode(true));}).attr(\"class\",\"track-inset\").select(function(){return this.parentNode.appendChild(this.cloneNode(true));}).attr(\"class\",\"track-overlay\").call(d3.drag().on(\"start.interrupt\",function(){slider.interrupt();}).on(\"start drag\",function(){update(x.invert(d3.event.x));}));slider.insert(\"g\",\".track-overlay\").attr(\"class\",\"ticks\").attr(\"transform\",\"translate(0,\"+18+\")\").selectAll(\"text\").data(x.ticks(5)).enter().append(\"text\").attr(\"x\",x).attr(\"y\",10).attr(\"text-anchor\",\"middle\").text(function(d){return formatDate(d);});var label=slider.append(\"text\").attr(\"class\",\"label\").attr(\"text-anchor\",\"middle\").text(formatDate(startDate)).attr(\"transform\",\"translate(0,\"+-25+\")\");var handle=slider.insert(\"circle\",\".track-overlay\").attr(\"class\",\"handle\").attr(\"r\",9);function update(h){handle.attr(\"cx\",x(h));label.attr(\"x\",x(h)).text(formatDate(h));updateToParent(h);}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{ref:\"slider\"});}}]);return Slider;}(Component);export default Slider;","map":{"version":3,"sources":["/Users/rachel/Desktop/894-a4/src/slider.js"],"names":["React","Component","d3","Slider","drawSlider","props","data","updateToParent","console","log","formatDate","timeFormat","startDate","date","endDate","length","margin","top","right","bottom","left","width","height","svg","select","refs","slider","append","attr","x","scaleTime","domain","range","clamp","parentNode","appendChild","cloneNode","call","drag","on","interrupt","update","invert","event","insert","selectAll","ticks","enter","text","d","label","handle","h"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport * as d3 from \"d3\"\n\n\nclass Slider extends Component {\n\n  componentDidMount() {\n    this.drawSlider(this.props.data, this.props.updateToParent)\n  }\n\n  drawSlider(data, updateToParent) {\n    console.log(\"here\")\n    var formatDate = d3.timeFormat(\"%m/%d\");\n\n    // var startDate = data[0].date,\n    //     endDate = data[(data.length)-1].date;\n    var startDate = data.date[0],\n        endDate = data.date[data.date.length-1];\n\n    var margin = {top:0, right:50, bottom:0, left:50},\n        width = 480 -margin.left - margin.right,\n        height = 300 - margin.top - margin.bottom;\n\n    var svg = d3.select(this.refs.slider)\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height);\n\n    var x = d3.scaleTime()\n        .domain([startDate, endDate])\n        .range([0, width])\n        .clamp(true);\n\n    var slider = svg.append(\"g\")\n        .attr(\"class\", \"slider\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",50)\");\n\n    slider.append(\"line\")\n        .attr(\"class\", \"track\")\n        .attr(\"x1\", x.range()[0])\n        .attr(\"x2\", x.range()[1])\n        .attr(\"stroke\", \"#000\")\n        .attr(\"stroke-opacity\", 0.1)\n        .attr(\"stroke-width\", \"10px\")\n      .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n        .attr(\"class\", \"track-inset\")\n      .select(function() { return this.parentNode.appendChild(this.cloneNode(true)); })\n        .attr(\"class\", \"track-overlay\")\n        .call(d3.drag()\n            .on(\"start.interrupt\", function() { slider.interrupt(); })\n            .on(\"start drag\", function() {\n              update(x.invert(d3.event.x));\n             }));\n\n    slider.insert(\"g\", \".track-overlay\")\n        .attr(\"class\", \"ticks\")\n        .attr(\"transform\", \"translate(0,\" + 18 + \")\")\n      .selectAll(\"text\")\n        .data(x.ticks(5))\n        .enter()\n        .append(\"text\")\n        .attr(\"x\", x)\n        .attr(\"y\", 10)\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) { return formatDate(d); });\n\n    var label = slider.append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(formatDate(startDate))\n        .attr(\"transform\", \"translate(0,\" + (-25) + \")\")\n\n    var handle = slider.insert(\"circle\", \".track-overlay\")\n        .attr(\"class\", \"handle\")\n        .attr(\"r\", 9);\n\n    function update(h) {\n      handle.attr(\"cx\", x(h));\n      label\n        .attr(\"x\", x(h))\n        .text(formatDate(h));\n\n      updateToParent(h);\n    }\n\n  }\n  render() {return <div ref=\"slider\"></div>}\n\n\n}\n\nexport default Slider;\n"]},"metadata":{},"sourceType":"module"}